ğŸ˜ŠğŸ˜Š ì´ë¯¸ì§€ì™€ ë ˆì´ë¸”ì´ ë™ì¼í•œ í´ë” ë™ì¼í•œ íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸ ğŸ˜ŠğŸ˜Š

import os

trainPath = '/home/jupyter/myData/train/'

trainImagePath = os.path.join(trainPath,'images') 
trainLabelPath = os.path.join(trainPath,'labels') 

trainImagePath, trainLabelPath

ğŸ˜ŠğŸ˜Š ì´ë¯¸ì§€ì˜ í´ë”ì™€ ë ˆì´ë¸”ì˜ í´ë”ì˜ ì´ë¦„ê³¼ ê°¯ìˆ˜ê°€ ë™ì¼í•œì§€ ğŸ˜ŠğŸ˜Š

ImagefolderName = os.listdir(trainImagePath)
LabelfolderName = os.listdir(trainLabelPath)

â˜…osëª¨ë“ˆì˜ listdir í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ í•œ í´ë”ë‚´ì˜ ëª¨ë“  íŒŒì¼ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì´ë‹¤.

â˜…ëª¨ë¥´ê² ë‹¤
true_count=0
false_count=0
for folderName in ImagefolderName:
    if folderName in LabelfolderName:
        true_count+=1
    else:
        false_count+=1

print(true_count)
print(false_count)
â˜…ëª¨ë¥´ê² ë‹¤

ğŸ˜ŠğŸ˜Š í´ë” ë‚´ë¶€ì˜ íŒŒì¼ëª…ì´ ë™ì¼í•œì§€ í™•ì¸ (í´ë” í•œê°œ í™•ì¸) ğŸ˜ŠğŸ˜Š

from glob import glob

folderName = ImagefolderName[0]
imagefullPath = os.path.join('/home/jupyter/myData/train/images/'+ folderName)
labelfullPath = os.path.join('/home/jupyter/myData/train/labels/'+ folderName)
#print(fullPath+'/*.png')
imagefiles = glob(imagefullPath+'/*.png')
labelfiles = glob(labelfullPath+'/*.txt')
imagefiles
# imagefilesì—ì„œ í™•ì¥ì ì œê±° + ì•ì— ê²½ë¡œ ì œê±°
split_imagefiles =[]
for imagefile in imagefiles:
    split_imagefiles.append(os.path.basename(os.path.splitext(imagefile)[0]))
#split_imagefiles

# labelfilesì—ì„œ í™•ì¥ì ì œê±° + ì•ì— ê²½ë¡œ ì œê±°
split_labelfiles =[]
for labelfile in labelfiles:
    split_labelfiles.append(os.path.basename(os.path.splitext(labelfile)[0]))
#split_labelfiles

true_count=0
false_count=0
for imagefile in split_imagefiles:
    if imagefile in split_labelfiles:
        true_count +=1
    else:
        false_count +=1

print(true_count)
print(false_count)

ğŸ˜ŠğŸ˜Š í´ë” ë‚´ë¶€ì˜ íŒŒì¼ëª…ì´ ë™ì¼í•œì§€ í™•ì¸ (ëª¨ë“  í´ë” í™•ì¸) ğŸ˜ŠğŸ˜Š

from glob import glob

for folderName in ImagefolderName:
    imagefullPath = os.path.join('/home/jupyter/myData/train/images/'+ folderName)
    labelfullPath = os.path.join('/home/jupyter/myData/train/labels/'+ folderName)
    #print(fullPath+'/*.png')
    imagefiles = glob(imagefullPath+'/*.png')
    labelfiles = glob(labelfullPath+'/*.txt')
    imagefiles
    # imagefilesì—ì„œ í™•ì¥ì ì œê±° + ì•ì— ê²½ë¡œ ì œê±°
    split_imagefiles =[]
    for imagefile in imagefiles:
        split_imagefiles.append(os.path.basename(os.path.splitext(imagefile)[0]))
    #split_imagefiles

    # labelfilesì—ì„œ í™•ì¥ì ì œê±° + ì•ì— ê²½ë¡œ ì œê±°
    split_labelfiles =[]
    for labelfile in labelfiles:
        split_labelfiles.append(os.path.basename(os.path.splitext(labelfile)[0]))
    #split_labelfiles

    true_count=0
    false_count=0
    for imagefile in split_imagefiles:
        if imagefile in split_labelfiles:
            true_count +=1
        else:
            false_count +=1
    if false_count>0 or true_count==0:
        print("===================")
        print(folderName)
        print(true_count)
        print(false_count)
        print("===================")

ğŸ˜ŠğŸ˜Š txtíŒŒì¼ëª…ì´ ì˜ëª»ëœ ê²ƒ ìˆ˜ì • ğŸ˜ŠğŸ˜Š

íŒŒì¼ëª…ì— ì–¸ë”ë°” ëŒ€ì‹  ê³µë°±ì´ ìˆìŒ
í´ë”ëª…ì€ 'Suwon_CH02_20200721_2130_TUE_9m_NH_highway_TW5_sunny_FHD'
Suwon_CH02_20200721_2130_TUE_9m_NH_highway_TW5_sunny_FHD 001.txt

falseLabels = glob('/home/jupyter/myData/train/labels/Suwon_CH02_20200721_2130_TUE_9m_NH_highway_TW5_sunny_FHD/*.txt')

for falseLabel in falseLabels:
    newLabel = falseLabel.replace(' ','_')
    print(newLabel)
    os.rename(falseLabel, newLabel)
    

â˜…replaceëŠ” ë¬¸ìì—´ì„ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. ë¬¸ìì—´ ì•ˆì—ì„œ íŠ¹ì • ë¬¸ìë¥¼ ìƒˆë¡œìš´ ë¬¸ìë¡œ ë³€ê²½í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆë‹¤. ì‚¬ìš© ë°©ë²•ì€ 'ë³€ìˆ˜. replace(old, new, [count])' í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
- old : í˜„ì¬ ë¬¸ìì—´ì—ì„œ ë³€ê²½í•˜ê³  ì‹¶ì€ ë¬¸ì
- new: ìƒˆë¡œ ë°”ê¿€ ë¬¸ì
- count: ë³€ê²½í•  íšŸìˆ˜. íšŸìˆ˜ëŠ” ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ oldì˜ ë¬¸ìì—´ ì „ì²´ë¥¼ ë³€ê²½í•œë‹¤. ê¸°ë³¸ê°’ì€ ì „ì²´ë¥¼ ì˜ë¯¸í•˜ëŠ” count=-1ë¡œ ì§€ì •ë˜ì–´ìˆë‹¤. 



â˜…renameì€ ëª…ì‹œëœ fileì˜ ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
ìœ„ ì½”ë“œëŠ” í•´ë‹¹ ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ” ë””ë ‰í† ë¦¬ì™€ ë™ì¼í•œ ìœ„ì¹˜ì— ìˆëŠ” falseLabelë¼ëŠ” íŒŒì¼ì˜ ì´ë¦„ì„ newLabelë¡œ ë³€ê²½í•œë‹¤.
